{% assign bg_color = background | default: '#ffffff' %}
{% assign txt_color = text_color | default: '#000000' %}
{% assign txt_transform = text_transform | default: 'uppercase' %}
{% assign anim_speed = speed | default: 20 %}
{% assign vertical_padding = padding | default: 15 %}
{% assign top_margin = margin_top | default: 100 %}
{% assign first_text = text_1 | default: 'FOREVER' %}
{% assign second_text = text_2 | default: 'ELEGANCE' %}
{% assign third_text = text_3 | default: 'STYLE' %}

<section class="text-marquee-section">
  <div class="marquee">
    <div class="marquee-content">
      <!-- Primera instancia de textos -->
      <span class="marquee-item">{{ first_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ second_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ third_text }}</span>

      <!-- Repetición para el efecto infinito -->
      <span class="marquee-item">{{ first_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ second_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ third_text }}</span>

      <!-- Triple repetición para asegurar fluidez -->
      <span class="marquee-item">{{ first_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ second_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ third_text }}</span>
    </div>

    <!-- Segunda instancia para asegurar continuidad -->
    <div class="marquee-content" aria-hidden="true">
      <!-- Primera instancia de textos -->
      <span class="marquee-item">{{ first_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ second_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ third_text }}</span>

      <!-- Repetición para el efecto infinito -->
      <span class="marquee-item">{{ first_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ second_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ third_text }}</span>

      <!-- Triple repetición para asegurar fluidez -->
      <span class="marquee-item">{{ first_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ second_text }}</span>
      <span class="marquee-separator">•</span>
      <span class="marquee-item">{{ third_text }}</span>
    </div>
  </div>
</section>

<style>
  .text-marquee-section {
    width: 100%;
    overflow: hidden;
    background: {{ bg_color }};
    padding: {{ vertical_padding }}px 0;
    color: white;
    margin-top: {{ top_margin }}px;
    position: relative;
  }

  .marquee {
    position: relative;
    width: 100%;
    overflow: hidden;
    display: flex;
  }

  .marquee-content {
    display: flex;
    flex-shrink: 0;
    justify-content: space-around;
    min-width: 100%;
    gap: 0;
    animation: scroll-x {{ anim_speed }}s linear infinite;
  }

  .marquee-item {
    display: inline-block;
    color: {{ txt_color }};
    font-family: var(--font-heading);
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    text-transform: {{ txt_transform }};
    padding: 0 10px;
    white-space: nowrap;
  }

  .marquee-separator {
    display: inline-block;
    color: {{ txt_color }};
    font-family: var(--font-heading);
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    padding: 0 15px;
  }

  @keyframes scroll-x {
    from {
      transform: translateX(0%);
    }
    to {
      transform: translateX(-100%);
    }
  }
</style>